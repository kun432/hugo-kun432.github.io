+++
author = "Kunikai Shimizu"
date = "2019-02-11"
title = "Alexaスキル「１分間キャンドル」「１分間暖炉」「１分間サンセット（審査中）」"
linktitle = ""
description = ""
tags = []
categories = []
highlight = true
draft = false

+++

### **はじめに**

Alexaスキル「１分間キャンドル」「１分間暖炉」「１分間サンセット（審査中）」のページです。

<img src="/img/alexa-skill-1min-candle-icon.png" width=250 />
<img src="/img/alexa-skill-1min-fireplace-icon.png" width=250 />

<img src="">

### **目次**

<!-- TOC -->

- [**はじめに**](#はじめに)
- [**目次**](#目次)
- [**使い方**](#使い方)
- [**実装について**](#実装について)
- [**今後の予定**](#今後の予定)
- [**更新履歴**](#更新履歴)
  - [「１分間キャンドル」](#１分間キャンドル)
  - [「１分間暖炉」](#１分間暖炉)
  - [「１分間3セット」](#１分間3セット)
- [**プライバシーポリシー**](#プライバシーポリシー)

<!-- /TOC -->

### **使い方**

「アレクサ、１分間◯◯を開いて」で起動した後、「再生」と答えると、ランダムで１分程度の動画を再生します。ディスプレイ付きデバイス（Echo Spot/Echo Show）でのみ利用可能です。
<br />
<br />

### **実装について**

2019年のスキル開発の個人的テーマとして、以下を設定しています。

- 毎月、少なくとも１つのスキルをリリースする
- 毎月、少なくとも１つの新しいテーマに取り組む
<br />

1月のテーマは当初「セッション」を考えていたのですが、良いアイデアが思いつかず、急遽「動画再生」に変更しました。音楽や動画関連のスキルは非常に数が多くかつ人気も高いので、一度やってみたいと思っていましたが、実際にやってみると非常に簡単で、急遽ではありましたがやってみてよかったなと思います。簡単に実装できてしかも使ってもらいやすい、ということで、多数リリースされているのも納得です。動画コンテンツさえあれば比較的簡単に実装できるので、コード公開してますので、ぜひ皆さんもやっていただければと思います。
<br />
<br />
動画ファイルについて少し補足しておきます。
<br />
動画はすべて[pixabay](https://pixabay.com)のロイヤリティフリー動画を使用しています。pixabayでは多数の動画素材を提供しているのですが、あくまでも素材ということもあり、ほとんどが1分未満のものです。当初は30分ぐらいの動画を再生したいと思っていたのですが、長時間のものはなかなか見つからない、あってもテーマに合わない、自分で作るのも手間、ということで、1分間未満を逆手にとって「仕事中などにちょっとした息抜きを」という目的に変えました。息抜き30分とか流石に怒られるでしょうし（笑）、よい落とし所だったのではないかなと思います。代りに複数の動画をランダムに再生するようにして、なるべく飽きすに継続して使ってもらえたらと思っています。
<br />
<br />
また、再生可能な動画ファイルのフォーマットは規定があるためffmpegで以下のような調整もしてます。

- 職場等での利用を想定して無音化
- 1分に収まるよう再生部分の切り出し
- 4K非対応のため、動画の画面サイズの縮小
- ストレージ容量・転送量削減のためのビットレートダウン

特に、ストレージ容量、転送量というところはコストにも帰ってくるため、「1分間」というところはこういうところでも意味があったりします。
<br />
<br />

```
実際には以降で述べるAlexa-hostedを利用しているため、ストレージ容量・転送量というところで追加コストが発生することはありませんが、逆に利用枠が決まっておりそれを超えるとスキルが使えなくなるため、このあたりのデータ量の削減は重要かなと思います。
```

<br />
<br />
あと、今回のスキルでは、Alexa-hostedスキルで作成しました。これまでのスキル作成では、

- 対話モデルはAlexa開発者コンソール
- バックエンドはAWS Lambda
- 動画等のファイルはAWS S3

と、複数のコンポーネントを使って管理画面を行ったり来たりするのが一般的だったのですが、Alexa-hosted（ただしベータ）を使うことにより、これらが全てAlexa開発者コンソールだけで完結するようになり、非常に開発がスムーズでした。大規模なスキル開発では厳しい面もあると思いますが、シンプルなものやプロトタイプ的なもの、個人での開発といったレベルだと十分ですね。今後も活用したいと思います。
<br />
<br />
コードはGithubで公開してます。
<br />
https://github.com/kun432/alexa-skill-1min-candle<br />
https://github.com/kun432/alexa-skill-1min-fireplace<br />
https://github.com/kun432/alexa-skill-1min-sunset

### **今後の予定**

- 動画の再生制御については、今回は短い動画ということで単純な再生のみの実装となっていますが、実際には細かい制御が可能で、そのための標準インテントが多数用意されています。今後のバージョンアップ時にこれらに対応していきたいと思います。
- 動画は適宜追加予定です。

### **更新履歴**

#### 「１分間キャンドル」

- v1.0(2019/01/30)
  - 公開

#### 「１分間暖炉」

- v1.0(2019/01/31)
  - 公開

#### 「１分間3セット」

- v1.0(2019/02/12)
  - 申請中

### **プライバシーポリシー**

このアプリケーションでは、ご利用になる皆様のいかなるプライバシー情報も収集、使用、共用することはありません。

<div style="text-align: right;">
2019年01月30日 制定<br />
Kuniaki Shimizu<br />
kun432.8d1w@gmail.com<br />
</div>